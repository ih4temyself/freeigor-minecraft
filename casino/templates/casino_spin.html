<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FREEIGOR â€¢ Case</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/casino_case.css') }}">
</head>
<body class="h-full text-gray-200 selection:bg-red-700 selection:text-white">

  <video autoplay muted loop playsinline preload="auto"
         class="fixed inset-0 w-full h-full object-cover object-center opacity-100">
    <source src="{{ url_for('static', filename='media/steam_profile.webm') }}" type="video/webm">
  </video>

  <main class="relative z-10 flex items-center justify-center min-h-full p-6">
    <div class="glass max-w-xl w-full rounded-2xl p-12 shadow-lg ring-1 ring-red-800/40 space-y-8">
      <h1 class="bleeding-text text-5xl font-extrabold drop-shadow text-center">CASE</h1>
      <div class="flex items-center justify-between text-base">
        <span id="playerNickname" class="text-gray-300"></span>
        <span>Coins: <span id="playerBalance" class="font-bold text-red-400">0</span></span>
      </div>
      <div class="case-viewport-lg">
        <div class="case-marker-lg"></div>
        <div id="caseStrip" class="case-strip-lg"></div>
      </div>
      <button id="spinBtn"
              class="w-full px-8 py-4 rounded bg-red-800 hover:bg-red-700 active:bg-red-900 transition font-semibold text-lg">
        OPEN CASE (-{{ spin_cost }} coins)
      </button>
      <p id="spinMessage" class="text-center text-base text-gray-400 min-h-[1.5rem]"></p>
      <button id="logoutBtn"
              class="w-full px-4 py-2 mt-4 rounded bg-gray-700 hover:bg-gray-600 active:bg-gray-800 text-xs uppercase tracking-wide">
        Logout
      </button>
    </div>
  </main>

  <script id="casinoItems" type="application/json">{{ items_json|safe }}</script>
  <script type="module" src="{{ url_for('static', filename='js/casino_case_spin.js') }}"></script>
</body>
</html>